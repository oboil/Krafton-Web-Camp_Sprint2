# Sprint2 - 오늘 따라 (전국민 참여형 체감 온도 네트워크)

## 📋 프로젝트 개요

"오늘 따라 덥네?" 혹은 "오늘 따라 춥네?"라는 말을 해본 경험이 있으신가요? 같은 날씨 속에서도 사람마다 느끼는 온도는 다릅니다. 특히 봄과 가을처럼 애매한 계절에는 복장도, 체감도 제각각입니다.

기상청에서 제공하는 체감온도 지표가 있지만, 실제로 사람들이 느끼는 온도와는 차이가 있습니다. 그래서 저희는 **'사람마다 다른 체감 온도'를 함께 공유하고, 숫자보다 더 현실적인 기준**을 만들기 위해 이 프로젝트를 기획했습니다.

전국민이 실시간으로 체감하는 날씨 정보를 공유하고, 이를 전국 지도에 시각화하는 웹 애플리케이션입니다.

### 주요 기능

- **실시간 날씨 체감 데이터 수집**: 사용자의 위치와 체감 온도(덥다/춥다/보통) 정보 수집
- **전국 지도 시각화**: 수집된 데이터를 기반으로 한 대한민국 지도 색상 표현 (빨강: 덥다, 파랑: 춥다, 초록: 보통)
- **기상청 API 연동**: 실제 기상 데이터와 체감 데이터 비교
- **지역별 상세 정보**: 지도 클릭 시 해당 지역의 실제 온도와 체감 통계를 파이차트로 표시
- **체감온도 퀴즈**: 실제 기온을 맞춰보는 게임 기능
- **날씨별 추천 서비스**: 체감 온도에 따른 옷차림/음식 추천
- **실시간 랭킹**: 가장 높은 상태(덥다/춥다/보통) 기준으로 체감 온도 TOP 5, 실제 온도 TOP 5
- **시간대별 필터링**: 특정 시간대별 체감 데이터 확인 가능
- **사용자 중복 방지**: 쿠키 기반 중복 투표 방지 시스템

## 🎨 사용자 인터페이스

### 메인 기능

1. **위치 선택**: 경기도, 용인시 등 드롭다운 선택
2. **체감 온도 입력**: 덥다/보통/춥다 버튼으로 간단 입력
3. **상황별 선택**: "선택하세요", "지옥 입성", "모기가 피 대신 얼음을 찾는 더위" 등 위트 있는 옵션
4. **전국 지도 시각화**:
   - 빨간색: 덥다고 느끼는 지역
   - 초록색: 보통인 지역
   - 파란색: 춥다고 느끼는 지역
5. **지역별 상세 팝업**: 클릭 시 실제 온도와 체감 비율을 파이차트로 표시

### 부가 기능

- **🏆 랭킹 시스템**: 체감 온도 TOP 5, 실제 온도 TOP 5
- **🎯 체감온도 퀴즈**: 실제 체감 온도 맞히기 게임
- **👕 추천 서비스**: 날씨에 따른 옷차림/음식 추천
- **⏰ 시간 필터**: 특정 시간대 데이터 확인

## 🛠 기술 스택 및 아키텍처

### Frontend

- **HTML, CSS, JavaScript**: 기본 웹 기술
- **D3.js**: 대한민국 지도 시각화 및 SVG 렌더링
- **좌표 데이터**: [South Korea Maps](https://github.com/southkorea/southkorea-maps) 활용

### Backend

- **Python & Flask**: RESTful API 서버
- **데이터 처리**: 실시간 통계 계산 및 집계
- **외부 API 연동**: 기상청 공공데이터 API

### Database

- **MongoDB**: NoSQL 데이터베이스
- **컬렉션 구조**: 광역시/도별 분리
- **Document**: 시군구별 온도 데이터 및 사용자 체감 데이터
- **실시간 집계**: 30분 간격 기상청 데이터 갱신으로 성능 최적화

### 아키텍처 특징

- **지도 시각화**: 네이버/카카오 지도 대신 SVG 좌표 기반 직접 구현으로 행정구역별 색상 표현
- **성능 최적화**: 기상청 데이터 30분 간격 갱신으로 서버 부하 최소화
- **확장 가능한 구조**: 광역시/도 → 시/군/구 단위 지도 전환 지원

## 📊 데이터베이스 구조

### MongoDB 구조

- **컬렉션**: 광역시/도별로 분리
- **Document**: 시군구별 데이터 저장
  - 기상청 API 데이터 (실제 온도)
  - 사용자 체감 데이터 (덥다/춥다/보통)
  - 타임스탬프

## 🏗 프로젝트 구조

```
sprint2/
├── static/
│   ├── css/           # 스타일시트
│   ├── js/            # 클라이언트 사이드 JavaScript
│   │   ├── map.js     # 지도 렌더링 및 시각화
│   │   └── survey.js  # 체감 온도 조사 기능
│   └── data/          # 좌표 데이터 (southkorea-maps)
├── templates/         # HTML 템플릿
├── app.py            # Flask 메인 애플리케이션
├── requirements.txt  # Python 의존성
└── README.md
```

## 🚀 설치 및 실행

### 1. 환경 설정

```bash
# Python 가상환경 생성 (선택사항)
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 의존성 설치
pip install -r requirements.txt
```

### 2. MongoDB 설정

- MongoDB 설치 및 실행
- 데이터베이스 연결 정보 설정

### 3. 기상청 API 키 설정

- 기상청 공공데이터포털에서 API 키 발급
- 환경변수 또는 설정 파일에 API 키 등록

### 4. 애플리케이션 실행

```bash
python app.py
```

## 🔧 주요 개발 도전과제 및 해결책

### 1. 지도 시각화 구현

**문제**: 네이버/카카오 지도 API는 건물 등 상세 정보까지 표시되어 행정구역별 색상 표현이 어려움  
**해결**: SVG 좌표 데이터를 활용한 직접 구현으로 광역시/도와 시/군/구 단위 지도 전환 지원

### 2. 데이터 매칭 문제

**문제**: 좌표 데이터의 지역명과 기상청 API의 지역명 불일치  
**해결**: 행정구역 데이터 비교 분석을 통한 지역명 통일 작업

### 3. 성능 최적화

**문제**: 사용자 접속 시마다 기상청 API 호출로 인한 서버 부하  
**해결**: 30분 간격 데이터 갱신 시스템으로 실시간성과 성능 균형 확보

### 4. 사용자 경험 개선

**문제**: 복잡한 지역 선택과 딱딱한 인터페이스  
**해결**:

- 자동 위치 인식 기능 (WiFi 환경)
- 유머러스한 체감 온도 옵션 ("지옥 입성", "아이스크림이 생각난다" 등)
- 직관적인 색상 코딩 (빨강-덥다, 파랑-춥다, 초록-보통)

## 📱 사용 방법

1. **위치 선택**: 경기도, 용인시 등 드롭다운에서 현재 위치 선택
2. **체감 조사**:
   - 덥다/보통/춥다 3단계 선택
   - "지옥 입성", "아이스크림이 생각난다" 등 재미있는 상황별 옵션 선택
3. **전국 현황**: 실시간 지도에서 색상별 체감 온도 분포 확인
4. **지역 상세**: 특정 지역 클릭 → 실제 온도와 체감 통계를 파이차트로 확인
5. **랭킹 확인**: 뜨거운 기온 TOP 5, 실제 온도 TOP 5 확인
6. **체감 퀴즈**: 실제 기온 맞히기 게임 참여
7. **추천 서비스**: 현재 날씨에 맞는 옷차림/음식 추천 받기

## 👥 팀 구성 및 역할

### 401-6팀 "오늘 따라"

- **박미소**: 개괄 기획, 시각화 (메인 지도 구현 및 지역별 색상 시각화), FE-BE 연결
- **박영찬**: API, BE (기상청 API 연동, Flask 백엔드, MongoDB 연결)
- **이현복**: 부가 기능 (체감온도 퀴즈, 추천 서비스, 랭킹 시스템)

### 개발 환경 및 협업

- **기초 지식**: HTML, CSS, JavaScript, Python, MongoDB 기본 지식
- **팀 구성**: 초급자 중심의 협업 프로젝트 (1-2학년 중심)
- **개발 기간**: 약 1주일 (2025.08.15 - 2025.08.21, Sprint 방식)
- **협업 도구**: 별도의 Git이나 Figma 사용 없이 직접 협업

## 📈 향후 개선 사항

- [ ] 지역명 통일 (좌표 데이터 vs DB 데이터)
- [ ] 지도 렌더링 성능 최적화
- [ ] 모바일 환경 위치 인식 개선
- [ ] 실시간 푸시 알림 기능
- [ ] 날씨별 추천 서비스 확장

## 📄 라이선스

이 프로젝트는 교육 목적으로 제작되었습니다.

## 🔗 참고 자료

- [기상청 공공데이터포털](https://www.data.go.kr/data/15084084/openapi.do)
- [South Korea Maps](https://github.com/southkorea/southkorea-maps) - 좌표 데이터
- [D3.js Documentation](https://d3js.org/)

---

**개발자**: Krafton Web Camp Sprint2 401호 6팀

**개발 기간**: 2025.08.15 - 2025.08.21
